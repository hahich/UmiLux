<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/main.css">
    <style>
        .banner-inner {
            position: relative;
            height: 500px;
            overflow: hidden;
        }

        .banner-item {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            pointer-events: none;
        }

        .banner-item.active {
            opacity: 1;
            pointer-events: auto;
            z-index: 1;
        }

        .banner-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .banner-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #fff;
        }
    </style>
</head>

<body>
    <section id="banner">
        <div class="banner-inner">
            <div class="banner-item active">
                <picture>
                    <source srcset="./assets/img/banner.webp">
                    <img src="./assets/img/banner.png" alt="Keyboard" width="1920" height="500">
                </picture>
                <div class="banner-text">
                    <h1>Forest Style <br> Mechanical Keyboard</h1>
                    <p>Discount 50% On Products & Free Shipping.</p>
                    <button class="shop-now">Shop Now</button>
                </div>
            </div>
            <div class="banner-item">
                <picture>
                    <source srcset="./assets/img/banner_2.webp">
                    <img src="./assets/img/banner_2.webp" alt="Keyboard" width="1920" height="500">
                </picture>
                <div class="banner-text">
                    <h1>Forest Style <br> Mechanical Keyboard</h1>
                    <p>Discount 50% On Products & Free Shipping.</p>
                    <button class="shop-now">Shop Now</button>
                </div>
            </div>
            <div class="banner-item">
                <picture>
                    <source srcset="./assets/img/banner+3.webp">
                    <img src="./assets/img/banner+3.webp" alt="Keyboard" width="1920" height="500">
                </picture>
                <div class="banner-text">
                    <h1>Forest Style <br> Mechanical Keyboard</h1>
                    <p>Discount 50% On Products & Free Shipping.</p>
                    <button class="shop-now">Shop Now</button>
                </div>
            </div>
        </div>
        <div class="banner-buttons">
            <button class="banner-btn prev" aria-label="Previous Slide">
                <svg width="6" height="11" viewBox="0 0 6 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M5.77754 9.66681C5.92988 9.81915 6.00605 10.0008 6.00605 10.2117C6.00605 10.4109 5.92988 10.5809 5.77754 10.7215C5.63691 10.8738 5.46113 10.95 5.25019 10.95C5.03926 10.95 4.86348 10.8738 4.72285 10.7215L0.222851 6.2215C0.070507 6.08087 -0.00566483 5.91095 -0.00566483 5.71173C-0.00566483 5.50079 0.070507 5.31915 0.222851 5.16681L4.72285 0.666809C4.86348 0.526184 5.03926 0.455872 5.25019 0.455872C5.46113 0.455872 5.63691 0.526184 5.77754 0.666809C5.92988 0.819153 6.00605 1.00079 6.00605 1.21173C6.00605 1.41095 5.92988 1.58087 5.77754 1.7215L1.80488 5.69415L5.77754 9.66681Z"
                        fill="#111111" />
                </svg>
            </button>
            <button class="banner-btn next" aria-label="Next Slide">
                <svg width="6" height="11" viewBox="0 0 6 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M1.27754 10.7215C1.13691 10.8738 0.961132 10.95 0.750195 10.95C0.539257 10.95 0.363476 10.8738 0.222851 10.7215C0.070507 10.5809 -0.00566483 10.4109 -0.00566483 10.2117C-0.00566483 10.0008 0.070507 9.81915 0.222851 9.66681L4.19551 5.69415L0.222851 1.7215C0.070507 1.58087 -0.00566483 1.41095 -0.00566483 1.21173C-0.00566483 1.00079 0.070507 0.819153 0.222851 0.666809C0.363476 0.526184 0.539257 0.455872 0.750195 0.455872C0.961132 0.455872 1.13691 0.526184 1.27754 0.666809L5.77754 5.16681C5.92988 5.31915 6.00605 5.50079 6.00605 5.71173C6.00605 5.91095 5.92988 6.08087 5.77754 6.2215L1.27754 10.7215Z"
                        fill="#111111" />
                </svg>
            </button>
        </div>
        <div class="banner-dots flex-center">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    </section>

    <script>
        function initBannerSlider() {
            const prev = document.querySelector('.prev');
            const next = document.querySelector('.next');
            const carousel = document.querySelector('#banner');
            const items = document.querySelectorAll('.banner-item');
            const dots = document.querySelectorAll('.dot');
            let index = 0, interval;

            const update = () => {
                items.forEach((el, i) => {
                    el.classList.toggle('active', i === index);
                    el.style.zIndex = i === index ? 1 : 0;
                });
                dots.forEach((el, i) => el.classList.toggle('active', i === index));
            };

            const goTo = i => {
                index = (i + items.length) % items.length;
                update();
            };
            const nextSlide = () => goTo(index + 1);
            const prevSlide = () => goTo(index - 1);

            const start = () => interval = setInterval(nextSlide, 5000);
            const stop = () => clearInterval(interval);

            prev?.addEventListener('click', () => {
                stop();
                prevSlide();
                setTimeout(start, 100);
            });

            next?.addEventListener('click', () => {
                stop();
                nextSlide();
                setTimeout(start, 100);
            });

            dots.forEach((dot, i) => dot.addEventListener('click', () => {
                stop();
                goTo(i);
                start();
            }));
            carousel?.addEventListener('mouseenter', stop);
            carousel?.addEventListener('mouseleave', start);

            update(); // Khởi tạo trạng thái ban đầu
            start();
        }

        document.addEventListener('DOMContentLoaded', () => {
            initBannerSlider();
        });
    </script>
</body>

</html>